<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Botfs23 - Telegram Chat</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—ã –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */
        .telegram-app {
            display: none;
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π –∞–ª–µ—Ä—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        .custom-alert {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--tg-red);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            box-shadow: var(--tg-shadow-medium);
            z-index: 2000;
            display: none;
            animation: slideInRight 0.3s ease;
            max-width: 300px;
            font-size: 14px;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        .messages-container {
            scrollbar-width: thin;
            scrollbar-color: var(--tg-scrollbar) transparent;
        }
        
        /* –§–∏–∫—Å –¥–ª—è –∏–∫–æ–Ω–æ–∫ */
        .fa-telegram {
            color: var(--tg-primary);
        }
        
        /* –§–∏–∫—Å –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è */
        .sidebar-header {
            min-height: 84px;
        }
        
        /* –§–∏–∫—Å –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —á–∞—Ç–∞ */
        .empty-chat {
            margin: auto;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .loading-logo {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-logo">
            <i class="fab fa-telegram fa-3x"></i>
        </div>
        <div class="loading-text">Botfs23 Chat</div>
        <div class="loading-subtext">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...</div>
        <div class="loading-spinner"></div>
    </div>

    <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="custom-alert" id="custom-alert"></div>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app">
        <!-- Header Telegram -->
        <div class="header">
            <div class="header-left">
                <button class="btn-menu" id="btn-menu">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="chat-info">
                    <div class="chat-title" id="chat-title">Botfs23</div>
                    <div class="chat-status">–æ–Ω–ª–∞–π–Ω: <span id="online-count">3</span></div>
                </div>
            </div>
            <div class="header-right">
                <button class="header-btn btn-mention-all" id="btn-mention-all" title="–£–ø–æ–º—è–Ω—É—Ç—å –≤—Å–µ—Ö –æ–Ω–ª–∞–π–Ω">
                    <i class="fas fa-at"></i>
                </button>
                <button class="header-btn btn-jump" id="btn-jump" title="–ü–µ—Ä–µ–π—Ç–∏ –∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º">
                    <i class="fas fa-arrow-down"></i>
                    <span class="unread-badge" id="unread-badge">3</span>
                </button>
                <button class="header-btn btn-admin" id="btn-admin" title="–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å">
                    <i class="fas fa-user-shield"></i>
                </button>
                <button class="header-btn btn-users" id="btn-users" title="–°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤">
                    <i class="fas fa-users"></i>
                </button>
            </div>
        </div>

        <!-- Sidebar Telegram -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="user-profile">
                    <div class="user-avatar" id="user-avatar">
                        <i class="fas fa-user" id="user-avatar-icon"></i>
                    </div>
                    <div class="user-info">
                        <div class="user-name" id="user-name">cherchez la femme</div>
                        <div class="user-role" id="user-role">—É—á–∞—Å—Ç–Ω–∏–∫</div>
                    </div>
                </div>
                <button class="btn-close-sidebar" id="btn-close-sidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ Telegram -->
            <div class="sections-list">
                <div class="section-item active" data-section="main">
                    <i class="fas fa-comments"></i>
                    <span class="section-name">–û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç</span>
                </div>
                <div class="section-item" data-section="news">
                    <i class="fas fa-newspaper"></i>
                    <span class="section-name">–ù–æ–≤–æ—Å—Ç–∏</span>
                </div>
                <div class="section-item" data-section="rules">
                    <i class="fas fa-book"></i>
                    <span class="section-name">–ü—Ä–∞–≤–∏–ª–∞</span>
                    <span class="section-locked"><i class="fas fa-lock"></i></span>
                </div>
                <div class="section-item" data-section="announcements">
                    <i class="fas fa-bullhorn"></i>
                    <span class="section-name">–û–±—ä—è–≤–ª–µ–Ω–∏—è</span>
                </div>
            </div>
            
            <!-- –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ Telegram -->
            <div class="sidebar-menu">
                <div class="menu-item active" data-view="chat">
                    <i class="fas fa-comments"></i>
                    <span>–ß–∞—Ç</span>
                </div>
                <div class="menu-item" data-view="users">
                    <i class="fas fa-users"></i>
                    <span>–£—á–∞—Å—Ç–Ω–∏–∫–∏</span>
                </div>
                <div class="menu-item" data-view="admin" id="admin-menu-item">
                    <i class="fas fa-user-shield"></i>
                    <span>–ê–¥–º–∏–Ω–∫–∞</span>
                </div>
                <div class="menu-item" data-view="settings">
                    <i class="fas fa-cog"></i>
                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </div>
                <div class="menu-item" data-view="profile">
                    <i class="fas fa-user"></i>
                    <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="online-users">
                    <i class="fas fa-circle online-dot"></i>
                    <span id="sidebar-online-count">3</span> –æ–Ω–ª–∞–π–Ω
                </div>
                <div class="app-version">v3.0</div>
            </div>
        </div>

        <!-- Overlay –¥–ª—è —Å–∞–π–¥–±–∞—Ä–∞ -->
        <div class="overlay" id="overlay"></div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ß–∞—Ç Telegram -->
            <div class="chat-container active" id="chat-view">
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π Telegram -->
                <div class="messages-container" id="messages-container">
                    <!-- –°–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
                    <div class="message system">
                        <div class="message-system">
                            <i class="fas fa-info-circle"></i>
                            <span>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Botfs23 —á–∞—Ç! –î–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.</span>
                        </div>
                    </div>
                    
                    <!-- –î–µ–º–æ —Å–æ–æ–±—â–µ–Ω–∏—è -->
                    <div class="message incoming">
                        <div class="message-avatar" style="background: var(--tg-primary);">
                            B
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-sender">
                                    <span>Botfs23 Bot</span>
                                    <span class="message-sender-role user">–ë–æ—Ç</span>
                                </div>
                                <div class="message-time">10:00</div>
                            </div>
                            <div class="message-text">
                                –ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –¥–µ–º–æ-—á–∞—Ç. –î–ª—è —Å–≤—è–∑–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ @e23esddsbot
                            </div>
                        </div>
                    </div>
                    
                    <div class="message outgoing">
                        <div class="message-content">
                            <div class="message-text">
                                –ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —á–∞—Ç—É?
                            </div>
                            <div class="message-status">
                                <i class="fas fa-check"></i>
                                <span>10:05</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="message incoming">
                        <div class="message-avatar" style="background: var(--tg-green);">
                            A
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-sender">
                                    <span>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                                    <span class="message-sender-role admin">–ê–¥–º–∏–Ω</span>
                                </div>
                                <div class="message-time">10:10</div>
                            </div>
                            <div class="message-text">
                                –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è" –≤ –±–æ—Ç–µ @e23esddsbot
                            </div>
                            <div class="message-reactions">
                                <div class="reaction">
                                    <span>üëç</span>
                                    <span class="reaction-count">3</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram -->
                <div class="message-input-area">
                    <button class="btn-attach" id="btn-attach">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    
                    <!-- –ú–µ–Ω—é –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ -->
                    <div class="attach-menu" id="attach-menu">
                        <div class="attach-item" data-type="photo">
                            <i class="fas fa-image"></i>
                            <span>–§–æ—Ç–æ</span>
                        </div>
                        <div class="attach-item" data-type="document">
                            <i class="fas fa-file"></i>
                            <span>–î–æ–∫—É–º–µ–Ω—Ç</span>
                        </div>
                        <div class="attach-item" data-type="sticker">
                            <i class="far fa-smile"></i>
                            <span>–°—Ç–∏–∫–µ—Ä</span>
                        </div>
                        <div class="attach-item" data-type="voice">
                            <i class="fas fa-microphone"></i>
                            <span>–ì–æ–ª–æ—Å–æ–≤–æ–µ</span>
                        </div>
                    </div>
                    
                    <div class="input-wrapper">
                        <textarea 
                            id="message-input" 
                            placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..."
                            rows="1"></textarea>
                        <div class="input-actions">
                            <button class="btn-emoji" id="btn-emoji">
                                <i class="far fa-smile"></i>
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn-send" id="send-button">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                    
                    <!-- –≠–º–æ–¥–∑–∏ –ø–∏–∫–µ—Ä -->
                    <div class="emoji-picker" id="emoji-picker">
                        <div class="emoji-categories">
                            <button class="emoji-category active" data-category="smileys">üòÄ</button>
                            <button class="emoji-category" data-category="people">üëã</button>
                            <button class="emoji-category" data-category="symbols">‚ù§Ô∏è</button>
                            <button class="emoji-category" data-category="nature">üê∂</button>
                            <button class="emoji-category" data-category="food">üçï</button>
                        </div>
                        <div class="emoji-grid" id="emoji-grid">
                            <!-- –≠–º–æ–¥–∑–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram -->
            <div class="users-container" id="users-view">
                <div class="users-header">
                    <h2><i class="fas fa-users"></i> –£—á–∞—Å—Ç–Ω–∏–∫–∏</h2>
                    <div class="users-search">
                        <input type="text" id="users-search-input" placeholder="–ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...">
                        <button class="btn-close-search" id="btn-close-search">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="users-list" id="users-list">
                    <!-- –°–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω -->
                    <div class="users-header-title">
                        <i class="fas fa-circle online-dot"></i> –û–Ω–ª–∞–π–Ω (3)
                    </div>
                    
                    <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–Ω–ª–∞–π–Ω -->
                    <div class="user-item">
                        <div class="user-item-avatar" style="background: var(--tg-primary);">
                            C
                        </div>
                        <div class="user-item-info">
                            <div class="user-item-name">
                                <span>cherchez la femme</span>
                                <span class="user-role-badge user">—É—á–∞—Å—Ç–Ω–∏–∫</span>
                            </div>
                            <div class="user-item-status online">
                                <i class="fas fa-circle"></i> –æ–Ω–ª–∞–π–Ω
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-item">
                        <div class="user-item-avatar" style="background: var(--tg-green);">
                            A
                        </div>
                        <div class="user-item-info">
                            <div class="user-item-name">
                                <span>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                                <span class="user-role-badge admin">–∞–¥–º–∏–Ω</span>
                            </div>
                            <div class="user-item-status online">
                                <i class="fas fa-circle"></i> –æ–Ω–ª–∞–π–Ω
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-item">
                        <div class="user-item-avatar" style="background: var(--tg-purple);">
                            M
                        </div>
                        <div class="user-item-info">
                            <div class="user-item-name">
                                <span>–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</span>
                                <span class="user-role-badge moderator">–º–æ–¥–µ—Ä–∞—Ç–æ—Ä</span>
                            </div>
                            <div class="user-item-status online">
                                <i class="fas fa-circle"></i> –æ–Ω–ª–∞–π–Ω
                            </div>
                        </div>
                    </div>
                    
                    <!-- –°–ø–∏—Å–æ–∫ –æ—Ñ–ª–∞–π–Ω -->
                    <div class="users-header-title">
                        <i class="fas fa-clock"></i> –ù–µ –≤ —Å–µ—Ç–∏ (2)
                    </div>
                    
                    <div class="user-item">
                        <div class="user-item-avatar" style="background: var(--tg-orange);">
                            –ü
                        </div>
                        <div class="user-item-info">
                            <div class="user-item-name">
                                <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1</span>
                                <span class="user-role-badge user">—É—á–∞—Å—Ç–Ω–∏–∫</span>
                            </div>
                            <div class="user-item-status">
                                –±—ã–ª 5 –º–∏–Ω –Ω–∞–∑–∞–¥
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-item">
                        <div class="user-item-avatar" style="background: var(--tg-pink);">
                            –ü
                        </div>
                        <div class="user-item-info">
                            <div class="user-item-name">
                                <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2</span>
                                <span class="user-role-badge user">—É—á–∞—Å—Ç–Ω–∏–∫</span>
                            </div>
                            <div class="user-item-status">
                                –±—ã–ª 1 —á–∞—Å –Ω–∞–∑–∞–¥
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
            <div class="admin-container" id="admin-view">
                <div class="admin-header">
                    <h2><i class="fas fa-user-shield"></i> –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h2>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                </div>
                
                <div class="admin-sections">
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                    <div class="admin-section">
                        <h3><i class="fas fa-users-cog"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</h3>
                        <div class="admin-users-list" id="admin-users-list">
                            <!-- –°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                    
                    <!-- –î—Ä—É–≥–∏–µ —Å–µ–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ -->
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="settings-container" id="settings-view">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
            </div>

            <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
            <div class="profile-container" id="profile-view">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–æ—Ñ–∏–ª—è -->
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.getElementById('loading-screen');
            const app = document.getElementById('app');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                app.style.display = 'flex';
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
                initTelegramUI();
            }, 1000);
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram UI
        function initTelegramUI() {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é
            document.getElementById('btn-menu').addEventListener('click', toggleSidebar);
            document.getElementById('btn-close-sidebar').addEventListener('click', toggleSidebar);
            document.getElementById('overlay').addEventListener('click', toggleSidebar);
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', function() {
                    const view = this.dataset.view;
                    showView(view);
                    updateMenuActive(view);
                    toggleSidebar();
                });
            });
            
            // –†–∞–∑–¥–µ–ª—ã
            document.querySelectorAll('.section-item').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.dataset.section;
                    switchSection(section);
                    updateSectionActive(section);
                    toggleSidebar();
                });
            });
            
            // –ö–Ω–æ–ø–∫–∏ —Ö–µ–¥–µ—Ä–∞
            document.getElementById('btn-users').addEventListener('click', () => showView('users'));
            document.getElementById('btn-admin').addEventListener('click', () => showView('admin'));
            document.getElementById('btn-mention-all').addEventListener('click', mentionAll);
            document.getElementById('btn-jump').addEventListener('click', jumpToUnread);
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            document.getElementById('send-button').addEventListener('click', sendMessage);
            document.getElementById('message-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
            document.getElementById('btn-attach').addEventListener('click', toggleAttachMenu);
            document.querySelectorAll('.attach-item').forEach(item => {
                item.addEventListener('click', function() {
                    const type = this.dataset.type;
                    attachFile(type);
                    toggleAttachMenu();
                });
            });
            
            // –≠–º–æ–¥–∑–∏
            document.getElementById('btn-emoji').addEventListener('click', toggleEmojiPicker);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–º–æ–¥–∑–∏
            initEmojis();
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–∞–π–¥–±–∞—Ä–∞
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
            document.getElementById('overlay').classList.toggle('active');
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≤–∏–¥
        function showView(view) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ
            document.querySelectorAll('.chat-container, .users-container, .admin-container, .settings-container, .profile-container')
                .forEach(container => {
                    container.classList.remove('active');
                });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π
            document.getElementById(`${view}-view`).classList.add('active');
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
        function updateMenuActive(view) {
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.view === view) {
                    item.classList.add('active');
                }
            });
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–¥–µ–ª
        function updateSectionActive(section) {
            document.querySelectorAll('.section-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === section) {
                    item.classList.add('active');
                }
            });
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫
            const titles = {
                main: '–û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç',
                news: '–ù–æ–≤–æ—Å—Ç–∏',
                rules: '–ü—Ä–∞–≤–∏–ª–∞',
                announcements: '–û–±—ä—è–≤–ª–µ–Ω–∏—è'
            };
            document.getElementById('chat-title').textContent = titles[section] || 'Botfs23';
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
        function switchSection(section) {
            showCustomAlert(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω —Ä–∞–∑–¥–µ–ª: ${section}`);
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        function sendMessage() {
            const input = document.getElementById('message-input');
            const text = input.value.trim();
            
            if (!text) return;
            
            // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            const messageContainer = document.getElementById('messages-container');
            const newMessage = document.createElement('div');
            newMessage.className = 'message outgoing';
            newMessage.innerHTML = `
                <div class="message-content">
                    <div class="message-text">${text}</div>
                    <div class="message-status">
                        <i class="fas fa-check"></i>
                        <span>${new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'})}</span>
                    </div>
                </div>
            `;
            
            messageContainer.appendChild(newMessage);
            input.value = '';
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑
            messageContainer.scrollTop = messageContainer.scrollHeight;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showCustomAlert('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ');
        }
        
        // –£–ø–æ–º—è–Ω—É—Ç—å –≤—Å–µ—Ö
        function mentionAll() {
            const input = document.getElementById('message-input');
            input.value = '@all ';
            input.focus();
            showCustomAlert('–£–ø–æ–º—è–Ω—É—Ç—ã –≤—Å–µ –æ–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏');
        }
        
        // –ü–µ—Ä–µ–π—Ç–∏ –∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
        function jumpToUnread() {
            const container = document.getElementById('messages-container');
            container.scrollTop = 0;
            showCustomAlert('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—É —á–∞—Ç–∞');
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–µ–Ω—é –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è
        function toggleAttachMenu() {
            document.getElementById('attach-menu').classList.toggle('active');
        }
        
        // –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª
        function attachFile(type) {
            showCustomAlert(`–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω —Ñ–∞–π–ª —Ç–∏–ø–∞: ${type}`);
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —ç–º–æ–¥–∑–∏ –ø–∏–∫–µ—Ä
        function toggleEmojiPicker() {
            document.getElementById('emoji-picker').classList.toggle('active');
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–º–æ–¥–∑–∏
        function initEmojis() {
            const emojis = {
                smileys: ['üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá', 'üôÇ', 'üôÉ', 'üòâ', 'üòå', 'üòç', 'ü•∞'],
                people: ['üëã', 'ü§ö', 'üñêÔ∏è', '‚úã', 'üññ', 'üëå', 'ü§è', '‚úåÔ∏è', 'ü§û', 'ü§ü', 'ü§ò', 'ü§ô', 'üëà', 'üëâ', 'üëÜ', 'üëá'],
                symbols: ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü§é', 'üíî', '‚ù§Ô∏è‚Äçüî•', '‚ù§Ô∏è‚Äçü©π', 'üíï', 'üíû', 'üíì', 'üíó'],
                nature: ['üê∂', 'üê±', 'üê≠', 'üêπ', 'üê∞', 'ü¶ä', 'üêª', 'üêº', 'üê®', 'üêØ', 'ü¶Å', 'üêÆ', 'üê∑', 'üê∏', 'üêµ', 'üôà'],
                food: ['üçï', 'üçî', 'üçü', 'üå≠', 'üçø', 'ü•ì', 'ü•ö', 'üç≥', 'üßá', 'ü•û', 'üßà', 'üçû', 'ü•ê', 'ü•®', 'ü•Ø', 'ü•ñ']
            };
            
            const grid = document.getElementById('emoji-grid');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–º–∞–π–ª–∏–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            loadEmojiCategory('smileys');
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
            document.querySelectorAll('.emoji-category').forEach(btn => {
                btn.addEventListener('click', function() {
                    const category = this.dataset.category;
                    
                    // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                    document.querySelectorAll('.emoji-category').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –ó–∞–≥—Ä—É–∑–∏—Ç—å —ç–º–æ–¥–∑–∏
                    loadEmojiCategory(category);
                });
            });
            
            function loadEmojiCategory(category) {
                const categoryEmojis = emojis[category] || emojis.smileys;
                grid.innerHTML = '';
                
                categoryEmojis.forEach(emoji => {
                    const btn = document.createElement('button');
                    btn.className = 'emoji-option';
                    btn.textContent = emoji;
                    btn.onclick = () => insertEmoji(emoji);
                    grid.appendChild(btn);
                });
            }
        }
        
        // –í—Å—Ç–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏
        function insertEmoji(emoji) {
            const input = document.getElementById('message-input');
            input.value += emoji;
            input.focus();
            toggleEmojiPicker();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showCustomAlert(message) {
            const alert = document.getElementById('custom-alert');
            alert.textContent = message;
            alert.style.display = 'block';
            
            setTimeout(() => {
                alert.style.display = 'none';
            }, 3000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        if (window.Telegram && Telegram.WebApp) {
            const tg = Telegram.WebApp;
            
            // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            tg.expand();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
            tg.MainButton.setText('–û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞')
                .onClick(() => {
                    window.open('https://t.me/e23esddsbot', '_blank');
                })
                .show();
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const user = tg.initDataUnsafe?.user;
            if (user) {
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
                const userName = user.first_name + (user.last_name ? ' ' + user.last_name : '');
                document.getElementById('user-name').textContent = userName;
                
                // –ê–≤–∞—Ç–∞—Ä
                if (user.photo_url) {
                    const avatarImg = document.createElement('img');
                    avatarImg.src = user.photo_url;
                    avatarImg.onerror = () => {
                        avatarImg.style.display = 'none';
                        document.getElementById('user-avatar-icon').style.display = 'block';
                    };
                    document.getElementById('user-avatar').prepend(avatarImg);
                    document.getElementById('user-avatar-icon').style.display = 'none';
                }
            }
        }
    </script>
</body>
</html>
